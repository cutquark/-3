# 战斗日志功能说明

## 功能概述
本日志系统为寰宇杀桌游数据管理器提供了完整的战斗记录功能，支持区分敌我方，记录各种游戏事件。

## 功能特性
- ✅ **敌我区分**: 清楚标记友方、敌方和系统事件
- ✅ **事件分类**: 支持战斗、治疗、状态、回合、死亡等类型
- ✅ **实时记录**: 自动记录游戏中的所有重要事件
- ✅ **过滤查看**: 可按阵营和事件类型过滤日志
- ✅ **导入导出**: 支持JSON格式的日志导入导出
- ✅ **Firebase同步**: 支持多人房间的日志同步

## 日志类型

### 1. 战斗日志 (combat)
- 物理伤害
- 法术伤害
- 元素攻击

### 2. 治疗日志 (healing)
- 生命值回复
- 元素治疗

### 3. 状态日志 (status)
- 状态添加
- 状态移除

### 4. 死亡日志 (death)
- 单位阵亡记录

### 5. 部署日志 (deploy)
- 单位部署记录

### 6. 回合日志 (round)
- 回合开始记录

### 7. 系统日志 (system)
- 系统操作记录
- 单位删除等

## 使用方法

### 查看日志
1. 点击"战斗日志"标签页
2. 使用过滤器筛选所需内容：
   - **阵营过滤**: 全部/友方/敌方/系统
   - **类型过滤**: 全部/战斗/治疗/状态/死亡/回合

### 日志控制
- **自动滚动**: 开启/关闭新日志的自动滚动
- **清空日志**: 删除所有日志记录（不可撤销）
- **导出日志**: 将日志保存为JSON文件
- **导入日志**: 从JSON文件加载日志

### 自动记录事件
以下操作会自动生成日志：
- 发起攻击时
- 进行治疗时
- 添加/移除状态时
- 单位死亡时（生命值归零）
- 添加新单位时
- 回合变更时
- 删除单位时

## 文件结构
```
logs/
├── log.css       # 日志样式文件
├── log.js        # 日志功能实现
└── README.md     # 本说明文档
```

## 技术特性
- 响应式设计，支持移动设备
- 实时更新，无需刷新页面
- 本地存储支持
- Firebase实时同步
- 优雅的动画效果

## 注意事项
1. 日志最多保存1000条，超出后自动删除最早的记录
2. 导出的JSON文件包含完整的游戏信息和时间戳
3. 清空日志操作不可撤销，请谨慎使用
4. 在多人房间中，日志会自动同步给所有成员

## 更新日志
- v0.31: 首次发布完整日志功能，支持敌我区分和事件分类 